version: = 0
conditions: v1

services:
  - docker
stages:
  - lint
  - test
jobs:
  include:
    - name: lint
      stage: lint
      before_scrpit:
        - travis_retry pip install --upgrade flake8
      script:
        - docker run --rm -v $(pwd):/source -w /source python bash -c "pip install flake8; flake8 aioftp tests"
    - name: python 3.5
      stage: test
      script:
        - dock

# install:
#     - travis_retry pip install --upgrade codecov flake8 .[tests]
# before_script:
#     - flake8 aioftp tests
# script:
#     - pytest
# branches:
#     only:
#         - master
# after_success:
#     codecov
